(function(A){var D,H={className:"autosizejs",append:"",callback:!1},G="hidden",F="border-box",B="lineHeight",K='<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden;"/>',C=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],I="oninput",J="onpropertychange",E=A(K).data("autosize",!0)[0];E.style.lineHeight="99px","99px"===A(E).css(B)&&C.push(B),E.style.lineHeight="",A.fn.autosize=function(L){return L=A.extend({},H,L||{}),E.parentNode!==document.body&&A(document.body).append(E),this.each(function(){function O(){D=P,E.className=L.className,A.each(C,function(V,W){E.style[W]=S.css(W)})}function R(){var W,V,Y;if(D!==P&&O(),!U){U=!0,E.value=P.value+L.append,E.style.overflowY=P.style.overflowY,Y=parseInt(P.style.height,10),E.style.width=Math.max(S.width(),0)+"px",E.scrollTop=0,E.scrollTop=90000,W=E.scrollTop;var X=parseInt(S.css("maxHeight"),10);X=X&&X>0?X:90000,W>X?(W=X,V="scroll"):M>W&&(W=M),W+=T,P.style.overflowY=V||G,Y!==W&&(P.style.height=W+"px",Q&&L.callback.call(P)),setTimeout(function(){U=!1},1)}}var M,U,N,P=this,S=A(P),T=0,Q=A.isFunction(L.callback);S.data("autosize")||((S.css("box-sizing")===F||S.css("-moz-box-sizing")===F||S.css("-webkit-box-sizing")===F)&&(T=S.outerHeight()-S.height()),M=Math.max(parseInt(S.css("minHeight"),10)-T,S.height()),N="none"===S.css("resize")||"vertical"===S.css("resize")?"none":"horizontal",S.css({overflow:G,overflowY:G,wordWrap:"break-word",resize:N}).data("autosize",!0),J in P?I in P?P[I]=P.onkeyup=R:P[J]=R:P[I]=R,A(window).on("resize",function(){U=!1,R()}),S.on("autosize",function(){U=!1,R()}),R())})}})(window.jQuery||window.Zepto);jQuery.extend(jQuery,{maxLength:function(A,B){if(navigator.userAgent.indexOf("MSIE")==-1){document.getElementById(A).addEventListener("input",function(){var C=$("#"+A).val();if(C.length>B){$("#"+A).val(C.substr(0,B));alert("只能输入"+B+"个字符，系统已自动截断超出的字符！")}},false)}else{document.getElementById(A).onpropertychange=function(){var C=$("#"+A).val();if(C.length>B){$("#"+A).val(C.substr(0,B));alert("只能输入"+B+"个字符，系统已自动截断超出的字符！")}}}}});